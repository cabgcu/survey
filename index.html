<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Event Survey Dashboard</title>

  <!-- ---------- Base & dashboard styles ---------- -->
  <style>
    :root{
      --glass-bg: rgba(0,0,0,.55);
      --glass-brd: rgba(255,255,255,.12);
      --text-muted: #ccc;
      --text-dim: #aaa;
      --focus: #9c7bd9; /* GCU-ish purple */
    }

    * { box-sizing: border-box }
    body{
      margin:0;
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;
      background:url('https://i.imgur.com/dMhBqOj.jpeg') center/cover no-repeat fixed;
      color:#fff;
      opacity:0;
      animation:fadeIn 1.2s ease forwards;
    }
    @keyframes fadeIn{to{opacity:1}}

    /* Better high-contrast for users who prefer it */
    @media (prefers-contrast: more){
      :root{ --glass-bg: rgba(0,0,0,.75); --glass-brd: rgba(255,255,255,.25) }
    }

    /* Reduced motion accessibility */
    @media (prefers-reduced-motion: reduce){
      *{ animation: none !important; transition: none !important }
    }

    /* ---------- Top bar ---------- */
    .topbar{
      position:sticky;top:0;display:flex;justify-content:space-between;align-items:center;
      padding:1rem 2rem;background:rgba(0,0,0,.6);backdrop-filter:blur(10px);z-index:10;
      border-bottom:1px solid var(--glass-brd);
    }
    .topbar-left{display:flex;align-items:center;gap:1rem}
    .topbar-left img{height:50px}
    .title{font-size:1.8rem;font-weight:bold}

    .topbar-controls{display:flex;gap:1rem;align-items:center}
    #search,#sortMode{
      width:260px;padding:.55rem 1rem;font-size:1rem;border:none;border-radius:8px;
      background:rgba(255,255,255,.2);color:#fff;
    }
    #search::placeholder{color:#fff;opacity:.85}
    #sortMode{
      appearance:none;padding:.55rem 2.25rem .55rem 1rem;
      background-image:url("data:image/svg+xml,%3Csvg fill='white' viewBox='0 0 24 24' width='18' height='18' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M7 10l5 5 5-5z'/%3E%3C/svg%3E");
      background-repeat:no-repeat;background-position:right .6rem center;background-size:1rem;
    }

    /* Focus states */
    input,select,button{ outline: none }
    input:focus,select:focus,button:focus{
      box-shadow:0 0 0 3px color-mix(in oklab, var(--focus) 50%, transparent);
    }

    /* ---------- Grid ---------- */
    #dashboard{
      display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));
      gap:1.5rem;padding:2rem;
    }
    .card{
      background:var(--glass-bg);border:1px solid var(--glass-brd);border-radius:12px;
      padding:1.2rem;backdrop-filter:blur(8px);
    }
    .card h2{font-size:1.2rem;margin:.4rem 0}
    .rating{font-size:1.4rem;font-weight:bold;color:#ffc107}
    .resp-count{font-size:.8rem;color:var(--text-dim);margin-bottom:.8rem}
    .summary{font-style:italic;font-size:.9rem;color:var(--text-muted);margin-bottom:1rem}

    .actions{display:flex;flex-wrap:wrap;gap:.5rem}
    .btn{
      padding:.45rem .9rem;font-size:.85rem;background:rgba(255,255,255,.15);
      border:none;border-radius:6px;color:#fff;cursor:pointer;transition:transform .2s ease;
    }
    .btn:hover{transform:scale(1.05)}

    /* ---------- Banners ---------- */
    .banner{margin:1rem 2rem;padding:.8rem 1rem;border-radius:10px}
    .banner.info{background:rgba(255,255,255,.12);border:1px solid var(--glass-brd)}
    .banner.error{background:rgba(255,0,0,.15);border:1px solid rgba(255,0,0,.35)}

    /* ---------- Modal ---------- */
    .modal{ position:fixed;top:0;left:0;width:100%;height:100%;display:none;z-index:100 }
    .modal.show{ display:block }
    .modal-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.85);backdrop-filter:blur(5px)}
    .modal-content{
      position:relative;max-width:800px;margin:4rem auto;background:rgba(255,255,255,.05);color:#fff;
      padding:2rem;border-radius:12px;border:1px solid var(--glass-brd);
    }
    .close-btn{
      margin-left:auto;margin-bottom:1rem;padding:.5rem 1rem;border:none;border-radius:6px;
      background:rgba(255,255,255,.2);color:#fff;cursor:pointer;
    }
    .response-card{
      background:rgba(255,255,255,.05);padding:1.5rem 1.8rem;border-radius:10px;
      margin-bottom:2rem;border:1px solid rgba(255,255,255,.15);line-height:1.6;
    }
    .qa{margin-bottom:1rem}
    .qa .label{font-weight:600;font-size:.9rem;margin-bottom:.2rem;color:#ddd}
    .qa .value{font-size:1rem;color:#fff;margin-left:.5rem}

    /* ---------- Popup animations ---------- */
    @keyframes popIn{
      from{opacity:0;transform:translateX(-50%) scale(.85)}
      to  {opacity:1;transform:translateX(-50%) scale(1)}
    }
    @keyframes fadeOutUp{ to{opacity:0;transform:translateX(-50%) translateY(-30px)} }
    .popup-message{animation:popIn .4s ease-out forwards}
    .popup-message.fade-out{animation:fadeOutUp 1s ease forwards}

    /* ---------- Utility ---------- */
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

    /* ---------- Mobile tweaks ---------- */
    @media(max-width:640px){
      .topbar{flex-direction:column;align-items:flex-start;gap:.8rem;padding:.8rem 1rem}
      .title{font-size:1.4rem}
      .topbar-controls{width:100%;flex-direction:column;gap:.6rem}
      #search,#sortMode{width:100%;font-size:.88rem;padding:.55rem .95rem}
      #sortMode{background-position:right .75rem center;background-size:1rem}
      #dashboard{grid-template-columns:1fr;padding:1.2rem;gap:1rem}
      .card{padding:1rem}.card h2{font-size:1.05rem}.rating{font-size:1.2rem}
      .modal-content{width:100%;max-width:92%;padding:1.2rem;margin:2rem auto}
      .response-card{padding:1rem 1.2rem;font-size:.95rem}
      .qa .label{font-size:.85rem}.qa .value{font-size:.95rem}
    }
  </style>
</head>

<body>
  <!-- Live banners -->
  <div id="banner" class="banner info" role="status" aria-live="polite" hidden>Loading responses‚Ä¶</div>

  <!-- ---------- Top bar ---------- -->
  <div class="topbar" role="region" aria-label="Toolbar">
    <div class="topbar-left">
      <img src="https://i.imgur.com/oqrmQSC.png" alt="CAB Logo" aria-hidden="true">
      <div class="title">Event Survey Dashboard</div>
    </div>
    <div class="topbar-controls">
      <label class="sr-only" for="search">Search event</label>
      <input id="search" type="text" placeholder="Search event‚Ä¶" autocomplete="off" />

      <label class="sr-only" for="sortMode">Sort</label>
      <select id="sortMode" aria-label="Sort events">
        <option value="rating">‚≠ê Rating</option>
        <option value="az">üî§ A‚ÄìZ</option>
        <option value="recent">üïí Recent</option>
      </select>
    </div>
  </div>

  <!-- ---------- Event grid ---------- -->
  <div id="dashboard"></div>

  <!-- ---------- Modal ---------- -->
  <div id="modal" class="modal" aria-hidden="true" aria-labelledby="modalTitle">
    <div class="modal-backdrop" data-close="backdrop"></div>
    <div class="modal-content" role="dialog" aria-modal="true">
      <button id="closeBtn" class="close-btn" aria-label="Close dialog">Close</button>
      <h3 id="modalTitle" class="sr-only">Responses</h3>
      <div id="modalBody"></div>
    </div>
  </div>

  <!-- ---------- Confetti library ---------- -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <!-- ---------- Main logic ---------- -->
  <!-- (script content unchanged) -->
</body>
</html>
